{"ast":null,"code":"import _slicedToArray from\"/Users/ariel/Desktop/Binouze.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import qs from\"qs\";import BeerPic from\"./BeerItem.js\";import NavOptions from\"./NavOptions.js\";import ListFilters from\"./ListFilters.js\";var BeerList=function BeerList(_ref){var location=_ref.location,history=_ref.history;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),beers=_useState2[0],setBeers=_useState2[1];var queryString=qs.parse(location.search,{ignoreQueryPrefix:true});var page=parseInt(queryString.page)||1;console.log(\"query String\",queryString);var _useState3=useState(25),_useState4=_slicedToArray(_useState3,2),itemsPage=_useState4[0],setItemsPage=_useState4[1];useEffect(function(){fetch(\"https://api.punkapi.com/v2/beers?page=\".concat(page,\"&per_page=\").concat(itemsPage)).then(function(response){return response.json();}).then(function(responseData){setBeers(responseData);}).catch(function(error){console.log(\"Error fetching and parsing data\",error);});},[page,itemsPage]);var handlePageChanges=function handlePageChanges(delta){var path=\"/binouze-me/?page=\".concat(parseInt(page)+delta);history.push(path);};var handleFilterChanges=function handleFilterChanges(){console.log(history,\"<history-location>\",location);};console.log(\"Type of BEERS\",beers&&beers,typeof beers);console.log(\"BEERLIST\",page);console.log(itemsPage,\"!==\",beers.length,itemsPage!==beers.length);var pageDisplay=\"page : \".concat(page);return/*#__PURE__*/React.createElement(\"div\",{className:\"body-wrapper\"},/*#__PURE__*/React.createElement(ListFilters,{handleFilterChanges:handleFilterChanges}),/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\"},/*#__PURE__*/React.createElement(NavOptions,{beers:beers,itemsPage:itemsPage,page:page,handlePageChanges:handlePageChanges,setItemsPage:setItemsPage,pageDisplay:pageDisplay}),beers.length>0?/*#__PURE__*/React.createElement(\"ul\",{className:\"beer-list\"},beers.map(function(beer){return/*#__PURE__*/React.createElement(BeerPic,{key:beer.id,beer:beer});})):/*#__PURE__*/React.createElement(\"p\",null,\"LOADING...\")));};export default BeerList;","map":{"version":3,"sources":["/Users/ariel/Desktop/Binouze.me/src/Components/BeerList.js"],"names":["React","useState","useEffect","qs","BeerPic","NavOptions","ListFilters","BeerList","location","history","beers","setBeers","queryString","parse","search","ignoreQueryPrefix","page","parseInt","console","log","itemsPage","setItemsPage","fetch","then","response","json","responseData","catch","error","handlePageChanges","delta","path","push","handleFilterChanges","length","pageDisplay","map","beer","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport qs from \"qs\";\nimport BeerPic from \"./BeerItem.js\";\nimport NavOptions from \"./NavOptions.js\";\nimport ListFilters from \"./ListFilters.js\";\n\nconst BeerList = ({ location, history }) => {\n  const [beers, setBeers] = useState([]);\n\n  const queryString = qs.parse(location.search, { ignoreQueryPrefix: true });\n  const page = parseInt(queryString.page) || 1;\n  console.log(\"query String\", queryString);\n\n  const [itemsPage, setItemsPage] = useState(25);\n  useEffect(() => {\n    fetch(`https://api.punkapi.com/v2/beers?page=${page}&per_page=${itemsPage}`)\n      .then((response) => response.json())\n      .then((responseData) => {\n        setBeers(responseData);\n      })\n      .catch((error) => {\n        console.log(\"Error fetching and parsing data\", error);\n      });\n  }, [page, itemsPage]);\n\n  const handlePageChanges = (delta) => {\n    const path = `/binouze-me/?page=${parseInt(page) + delta}`;\n    history.push(path);\n  };\n\n  const handleFilterChanges = () => {\n    console.log(history, \"<history-location>\", location);\n  };\n\n  console.log(\"Type of BEERS\", beers && beers, typeof beers);\n  console.log(\"BEERLIST\", page);\n  console.log(itemsPage, \"!==\", beers.length, itemsPage !== beers.length);\n\n  const pageDisplay = `page : ${page}`;\n  return (\n    <div className=\"body-wrapper\">\n      <ListFilters handleFilterChanges={handleFilterChanges} />\n\n      <div className=\"wrapper\">\n        <NavOptions\n          beers={beers}\n          itemsPage={itemsPage}\n          page={page}\n          handlePageChanges={handlePageChanges}\n          setItemsPage={setItemsPage}\n          pageDisplay={pageDisplay}\n        />\n\n        {beers.length > 0 ? (\n          <ul className=\"beer-list\">\n            {beers.map((beer) => (\n              <BeerPic key={beer.id} beer={beer} />\n            ))}\n          </ul>\n        ) : (\n          <p>LOADING...</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BeerList;\n"]},"metadata":{},"sourceType":"module"}