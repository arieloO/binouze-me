{"ast":null,"code":"import _slicedToArray from\"/Users/ariel/Desktop/Binouze.me/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import qs from\"qs\";import BeerPic from\"./BeerItem.js\";var BeerList=function BeerList(_ref){var location=_ref.location,history=_ref.history;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),beers=_useState2[0],setBeers=_useState2[1];var queryString=qs.parse(location.search,{ignoreQueryPrefix:true});var page=parseInt(queryString.page)||1;var _useState3=useState(25),_useState4=_slicedToArray(_useState3,2),itemsPage=_useState4[0],setItemsPage=_useState4[1];useEffect(function(){fetch(\"https://api.punkapi.com/v2/beers?page=\".concat(page,\"&per_page=\").concat(itemsPage)).then(function(response){return response.json();}).then(function(responseData){setBeers(responseData);}).catch(function(error){console.log(\"Error fetching and parsing data\",error);});},[page,itemsPage]);var handlePageChanges=function handlePageChanges(delta){var path=\"/?page=\".concat(parseInt(page)+delta);history.push(path);};console.log(\"Type of BEERS\",beers&&beers,typeof beers);console.log(\"BEERLIST\",page);console.log(itemsPage,\"!==\",beers.length,itemsPage!==beers.length);var pageDisplay=\"page : \".concat(page);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"nav-options\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handlePageChanges(-1);},className:\"page-nav\",disabled:page===1?true:false},\"\\u21E6\"),/*#__PURE__*/React.createElement(\"span\",null,pageDisplay),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Bi\\xE8res par page :\"),/*#__PURE__*/React.createElement(\"select\",{onChange:function onChange(e){return setItemsPage(parseInt(e.target.value));}},/*#__PURE__*/React.createElement(\"option\",{value:25},\"25\"),/*#__PURE__*/React.createElement(\"option\",{value:50},\"50\"),/*#__PURE__*/React.createElement(\"option\",{value:75},\"75\"))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handlePageChanges(1);},className:\"page-nav\",disabled:beers.length!==itemsPage?true:false},\"\\u21E8\")),beers.length>0?/*#__PURE__*/React.createElement(\"ul\",{className:\"beer-list\"},beers.map(function(beer){return/*#__PURE__*/React.createElement(BeerPic,{key:beer.id,beer:beer});})):/*#__PURE__*/React.createElement(\"p\",null,\"LOADING...\"));};export default BeerList;","map":{"version":3,"sources":["/Users/ariel/Desktop/Binouze.me/src/Components/BeerList.js"],"names":["React","useState","useEffect","qs","BeerPic","BeerList","location","history","beers","setBeers","queryString","parse","search","ignoreQueryPrefix","page","parseInt","itemsPage","setItemsPage","fetch","then","response","json","responseData","catch","error","console","log","handlePageChanges","delta","path","push","length","pageDisplay","e","target","value","map","beer","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport qs from \"qs\";\nimport BeerPic from \"./BeerItem.js\";\n\nconst BeerList = ({ location, history }) => {\n  const [beers, setBeers] = useState([]);\n\n  const queryString = qs.parse(location.search, { ignoreQueryPrefix: true });\n  const page = parseInt(queryString.page) || 1;\n\n  const [itemsPage, setItemsPage] = useState(25);\n  useEffect(() => {\n    fetch(`https://api.punkapi.com/v2/beers?page=${page}&per_page=${itemsPage}`)\n      .then((response) => response.json())\n      .then((responseData) => {\n        setBeers(responseData);\n      })\n      .catch((error) => {\n        console.log(\"Error fetching and parsing data\", error);\n      });\n  }, [page, itemsPage]);\n\n  const handlePageChanges = (delta) => {\n    const path = `/?page=${parseInt(page) + delta}`;\n    history.push(path);\n  };\n\n  console.log(\"Type of BEERS\", beers && beers, typeof beers);\n  console.log(\"BEERLIST\", page);\n  console.log(itemsPage, \"!==\", beers.length, itemsPage !== beers.length);\n\n  const pageDisplay = `page : ${page}`;\n  return (\n    <div>\n      <div className=\"nav-options\">\n        <button\n          onClick={() => handlePageChanges(-1)}\n          className=\"page-nav\"\n          disabled={page === 1 ? true : false}\n        >\n          ⇦\n        </button>\n        <span>{pageDisplay}</span>\n        <div>\n          <label>Bières par page :</label>\n          <select onChange={(e) => setItemsPage(parseInt(e.target.value))}>\n            <option value={25}>25</option>\n            <option value={50}>50</option>\n            <option value={75}>75</option>\n          </select>\n        </div>\n\n        <button\n          onClick={() => handlePageChanges(1)}\n          className=\"page-nav\"\n          disabled={beers.length !== itemsPage ? true : false}\n        >\n          ⇨\n        </button>\n      </div>\n      {beers.length > 0 ? (\n        <ul className=\"beer-list\">\n          {beers.map((beer) => (\n            <BeerPic key={beer.id} beer={beer} />\n          ))}\n        </ul>\n      ) : (\n        <p>LOADING...</p>\n      )}\n    </div>\n  );\n};\n\nexport default BeerList;\n"]},"metadata":{},"sourceType":"module"}